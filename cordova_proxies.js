define("browser",["require","exports","module","underscore","backbone"],function(e,t,n){var r,i,s,o=function(e,t){return function(){return e.apply(t,arguments)}};s=e("underscore"),i=e("backbone").Events,r=function(){function e(e){this.url=e,this.show=o(this.show,this),this.close=o(this.close,this),this.open=o(this.open,this),this._onExit=o(this._onExit,this),this._onPostMessage=o(this._onPostMessage,this),this._onLoadError=o(this._onLoadError,this),this._onLoadStop=o(this._onLoadStop,this),this._onLoadStart=o(this._onLoadStart,this),this._addWindowEvents=o(this._addWindowEvents,this),s.extend(this,i)}return e.prototype.url="",e.prototype.windowOptions=["toolbarposition=top","hidden=yes","location=no","closebuttoncaption=Close","toolbar=yes"],e.prototype.openDelay=1e3,e.prototype._addWindowEvents=function(){if(this.window&&this.window.addEventListener)return this.window.addEventListener("loadstart",this._onLoadStart),this.window.addEventListener("loaderror",this._onLoadError),this.window.addEventListener("loadstop",this._onLoadStop),this.window.addEventListener("exit",this._onExit),window.addEventListener("message",this._onPostMessage)},e.prototype._onLoadStart=function(e){return this.trigger("load:start",e),this.trigger("load:progress",e)},e.prototype._onLoadStop=function(e){return this.trigger("load:stop",e)},e.prototype._onLoadError=function(e){return e.code===-999?this.trigger("load:cancelled",e):this.trigger("load:error",e)},e.prototype._onPostMessage=function(e){if(e.source===this.window)return this.trigger("load:progress",e.data)},e.prototype._onExit=function(e){return this.trigger("exit")},e.prototype.open=function(e){e==null&&(e=this.url),this.window=window.open(e,"_blank",this.windowOptions.join(",")),this._addWindowEvents();if(!/hidden|onload/.test(this.openDelay))return this.windowShowTimeout=setTimeout(this.show,this.openDelay)},e.prototype.close=function(){if(this.window){clearTimeout(this.windowShowTimeout),window.removeEventListener("message",this._onPostMessage);try{return this.window.close()}finally{this.window=null}}},e.prototype.show=function(){if(this.window&&this.window.show)return this.window.show(),this.trigger("show")},e}(),t.Request=r}),define("file",["require","exports","module","q","underscore"],function(e,t,n){var r,i;r=e("q"),i=e("underscore"),t.syncLocal=function(e,t,n){var s;return n==null&&(n={}),s=r.defer(),console.log("file#syncLocal",e,t),i.defaults(n,{storageType:LocalFileSystem.PERSISTENT}),window.requestFileSystem(n.storageType,0,function(n){return function(n){var r;return r={create:!0,exclusive:!1},n.root.getFile(e,r,function(e){return e.file(function(n){var r,i,o,u;return n.size>1?s.resolve(e.toURL()):(i=e.toURL(),r=new window.FileTransfer,u=function(e){return function(e){return console.log("transfer success"),s.resolve(i)}}(this),o=function(e){return function(e){return console.log("#syncLocal transfer fail",e),s.reject(e)}}(this),console.log("#syncLocal transfer",t,i),r.download(encodeURI(t),i,u,o))})})}}(this)),s.promise}}),define("keyboard",["require","exports","module"],function(e,t,n){}),define("splashscreen",["require","exports","module"],function(e,t,n){t.show=function(){if(navigator.splashscreen)return navigator.splashscreen.show()},t.hide=function(){if(navigator.splashscreen)return navigator.splashscreen.hide()}}),define("ready",["require","exports","module","q","jquery","./splashscreen"],function(e,t,n){var r,i,s,o,u;i=e("q"),r=e("jquery"),o=e("./splashscreen"),s=i.defer(),u=function(){return o.show(),s.resolve()},document.addEventListener("deviceready",u,!1),window.cordova||r(function(){return s.resolve()}),t.whenReady=s.promise}),define("statusbar",["require","exports","module"],function(e,t,n){}),define("index",["require","exports","module","./browser","./file","./keyboard","./ready","./splashscreen","./statusbar"],function(e,t,n){t.browser=e("./browser"),t.file=e("./file"),t.keyboard=e("./keyboard"),t.ready=e("./ready"),t.splashscreen=e("./splashscreen"),t.statusbar=e("./statusbar")});